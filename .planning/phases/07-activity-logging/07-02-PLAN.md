# Plan 07-02: Integrate Activity Logging into Operations

## Metadata

```yaml
plan_id: "07-02"
phase: 7
wave: 1
depends_on: ["07-01"]
files_modified:
  - orchestrator/src/app/api/projects/route.ts
  - orchestrator/src/app/api/projects/[id]/route.ts
  - orchestrator/src/app/api/workspaces/[id]/invitations/route.ts
  - orchestrator/src/app/api/jobs/route.ts
  - orchestrator/src/app/api/invitations/accept/route.ts
autonomous: true
estimated_duration: "25 minutes"
```

## Goal

Add activity logging to key operations: project creation, stage transitions, invitations, and job triggers.

## Tasks

### Task 1: Log project creation

**File**: `orchestrator/src/app/api/projects/route.ts`

Log when a project is created.

**Acceptance Criteria**:
- [ ] `project.created` logged with project name in metadata

### Task 2: Log stage transitions

**File**: `orchestrator/src/app/api/projects/[id]/route.ts`

Log when a project stage changes.

**Acceptance Criteria**:
- [ ] `project.stage_changed` logged with from/to stages

### Task 3: Log invitations

**File**: `orchestrator/src/app/api/workspaces/[id]/invitations/route.ts`

Log when an invitation is created or revoked.

**Acceptance Criteria**:
- [ ] `member.invited` logged with email and role
- [ ] `invitation.revoked` logged when deleted

### Task 4: Log member joins

**File**: `orchestrator/src/app/api/invitations/accept/route.ts`

Log when a user accepts an invitation.

**Acceptance Criteria**:
- [ ] `member.joined` logged with role

### Task 5: Log job triggers

**File**: `orchestrator/src/app/api/jobs/route.ts`

Log when a job is created/triggered.

**Acceptance Criteria**:
- [ ] `job.triggered` logged with job type
